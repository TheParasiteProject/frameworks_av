# Flags for the native audioserver
#
# Please add flags in alphabetical order.

package: "com.android.media.audioserver"
container: "system"

# shipped 24Q3
flag {
    name: "conditionally_ignore_preferred_input_device"
    namespace: "media_audio"
    description:
        "Allows to ignore preferred device requests in getInputDeviceForAttributes() depending "
        "on the calling context."
    bug: "303079083"
}

flag {
    name: "direct_track_reprioritization"
    namespace: "media_audio"
    description:
        "Modify opening a direct output on a mixport to disrupt existing clients instead "
        "of failing to open when resource limit is reached"
    bug: "294525897"
}

flag {
    name: "effect_chain_callback_improve"
    namespace: "media_audio"
    description: "Improve effect chain callback mutex logic."
    bug: "342413767"
}

flag {
    name: "enable_audio_input_device_routing"
    namespace: "media_audio"
    description: "Allow audio input devices routing control."
    bug: "364923030"
}

flag {
    name: "enable_gmap_mode"
    namespace: "media_audio"
    description: "enable track metadata tag generation for GMAP."
    bug: "366456949"
}

flag {
    name: "enable_strict_port_routing_checks"
    namespace: "media_audio"
    description: "Enables strict routing checks on associating ports"
    bug: "367117623"
}

# shipped 24Q3
flag {
    name: "fdtostring_timeout_fix"
    namespace: "media_audio"
    description: "Improve fdtostring implementation to properly handle timing out."
    bug: "306283018"
}

flag {
    name: "fix_input_sharing_logic"
    namespace: "media_audio"
    description:
        "Fix the audio policy logic that decides to reuse or close "
        "input streams when resources are exhausted"
    bug: "338446410"
}

flag {
    name: "mutex_priority_inheritance"
    namespace: "media_audio"
    description:
        "Enable mutex priority inheritance in audioserver (std::mutex does not normally transfer "
        "priority from the blocked thread to the blocking thread). "
        "This feature helps reduce audio glitching caused by low priority blocking threads."
    bug: "209491695"
}

flag {
    name: "mmap_pcm_offload_support"
    namespace: "media_audio"
    description:
        "Add pcm offload support on mmap path."
    bug: "409798445"
}

flag {
    name: "remove_stream_suspend"
    namespace: "media_audio"
    description: "Remove the output stream suspend state and control mechanism"
    bug: "409706525"
}

flag {
    name: "use_bt_sco_for_media"
    namespace: "media_audio"
    description:
        "Play media strategy over Bluetooth SCO when active"
    bug: "292037886"
}
